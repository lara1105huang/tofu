import{d as E,r as t,o as g,b as r,e,F as i,f as m,k as a,s as k,h as A,l as D,t as o,g as V,q as b,j as F}from"./index.dc664f82.js";import{h as N}from"./moment.9709ab41.js";import{f as O}from"./firebaseConfig.615b9655.js";const Y={class:"tofu-area"},y=e("a",null,"\u767B\u51FA",-1),M=e("div",{class:"order_lists"},"\u8A02\u55AE\u5217\u8868\uFF1A",-1),T={class:"demo-collapse"},U=["onClick"],w=e("div",{class:"order_content"},"\u8A02\u55AE\u5167\u5BB9",-1),H=e("thead",null,[e("tr",null,[e("td",null,"\u540D\u7A31"),e("td",null,"\u55AE\u50F9"),e("td",null,"\u6578\u91CF"),e("td",null,"\u5408\u8A08")])],-1),L={class:"countTotal"},S=E({__name:"Orders",setup($){const p=b();t(),t([]);const c=t("1");t(),N(new Date).format("YYYY-MM-DD-HHmm");var v=O.database().ref("orders/");const d=t({});t({});const f=()=>{v.once("value",s=>{d.value=s.val(),console.log("getOrders",d.value)})},C=s=>{console.log(s),p.push(`/login/order/${s}`)};return g(()=>{f()}),(s,_)=>{const h=F("el-collapse-item"),B=F("el-collapse");return a(),r("div",Y,[y,M,e("div",T,[(a(!0),r(i,null,m(d.value,(u,n)=>(a(),k(B,{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=l=>c.value=l),key:n,accordion:""},{default:A(()=>[D(o(n)+" ",1),e("a",{onClick:l=>C(n)},"\u9023\u7D50",8,U),V(h,{title:"\u8A02\u55AE\u865F\u78BC"+u.orderNo,name:n+1},{default:A(()=>[e("div",null,"\u8A02\u8CFC\u4EBA\uFF1A"+o(u.orderUser.name),1),e("div",null,"\u8A02\u8CFC\u4EBA\u96FB\u8A71\uFF1A"+o(u.orderUser.phone),1),e("div",null,"\u8A02\u8CFC\u65E5\u671F\uFF1A"+o(u.time),1),w,e("div",null,[e("table",null,[H,e("tbody",null,[(a(!0),r(i,null,m(u.list,l=>(a(),r("tr",null,[e("td",null,o(l[1]),1),e("td",null,o(l[2]),1),e("td",null,o(l[3]),1),e("td",null,o(l[2]*l[3]),1)]))),256))])]),e("div",L,"\u8A02\u8CFC\u7E3D\u984D\uFF1A"+o(u.countTotal)+" \u5143 ",1)])]),_:2},1032,["title","name"])]),_:2},1032,["modelValue"]))),128))])])}}});export{S as default};
