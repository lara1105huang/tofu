import{d as N,r as F,o as S,e as d,g as u,F as D,h,f as i,w as o,k as m,m as n,as as $,n as c,t as a,at as C,p as U,ar as T}from"./index.70e1c415.js";import{f as E}from"./firebaseConfig.543d9f42.js";const w={class:"tofu-area"},L=u("div",{class:"order_lists"},"\u8A02\u55AE\u5217\u8868\uFF1A",-1),O={class:"demo-collapse"},z=u("span",null,"\u8A02\u8CFC\u4EBA\uFF1A",-1),M=u("span",null,"\u8A02\u8CFC\u4EBA\u96FB\u8A71\uFF1A",-1),R=u("span",null,"\u8A02\u8CFC\u65E5\u671F\uFF1A",-1),j={class:"order-status"},q={key:0},G={key:1},H={key:2},I=u("div",{class:"order_content"},"\u8A02\u55AE\u5167\u5BB9",-1),J=u("thead",null,[u("tr",null,[u("td",null,"\u540D\u7A31"),u("td",null,"\u55AE\u50F9"),u("td",null,"\u6578\u91CF"),u("td",null,"\u5408\u8A08")])],-1),K={class:"countTotal"},P={key:0,class:"btn-area"},Q=["onClick"],W=["onClick"],X={class:"el-dialog__body"},Y=u("div",null,[u("b",null," \u89AA\u611B\u7684\u7BA1\u7406\u8005\uFF0C\u60A8\u597D\uFF1A")],-1),Z=u("div",{class:"m5 orderNumber"},[u("b",null,"\u8A02\u55AE\u7DE8\u865F\uFF1A")],-1),x={class:"m5"},uu=u("div",null,"\u60A8\u5B8C\u6210\u4E86\u9019\u7B46\u8A02\u55AE\uFF01",-1),eu={class:"dialog-footer"},su={class:"el-dialog__body"},lu=u("div",null,[u("b",null," \u89AA\u611B\u7684\u7BA1\u7406\u8005\uFF0C\u60A8\u597D\uFF1A")],-1),tu=u("div",{class:"m5 orderNumber"},[u("b",null,"\u8A02\u55AE\u7DE8\u865F\uFF1A")],-1),ou={class:"m5"},au=u("div",null,"\u8A02\u55AE\u5DF2\u53D6\u6D88\uFF01",-1),nu={class:"dialog-footer"},cu=N({__name:"Orders",setup(du){T();var k=E.database().ref("orders/");F(),F();const B=F({}),f=()=>{k.once("value",l=>{B.value=l.val()})},_=F(!1),y=(l,s)=>{var r={};return r["/orders/"+l+"/isStatus"]=1,_.value=!0,f(),E.database().ref().update(r)},A=F(!1),V=(l,s)=>{var r={};return r["/orders/"+l+"/isStatus"]=2,A.value=!0,f(),E.database().ref().update(r)};return S(()=>{f()}),(l,s)=>{const r=m("el-collapse-item"),g=m("el-collapse"),v=m("el-button"),b=m("el-dialog");return n(),d("div",w,[L,u("div",O,[(n(!0),d(D,null,h(B.value,(e,p)=>(n(),$(g,{modelValue:l.activeName,"onUpdate:modelValue":s[0]||(s[0]=t=>l.activeName=t),key:p,accordion:""},{default:o(()=>[i(r,{title:"\u8A02\u55AE\u865F\u78BC"+e.orderNo,class:U("list"+e.isStatus),name:p+1},{default:o(()=>[u("div",null,[z,c(a(e.orderUser.name),1)]),u("div",null,[M,c(" "+a(e.orderUser.phone),1)]),u("div",null,[R,c(a(e.time),1)]),u("div",j,[e.isStatus==0?(n(),d("span",q,"\u8A02\u55AE\u72C0\u614B\uFF1A\u5F85\u8FA6")):C("",!0),e.isStatus==1?(n(),d("span",G,"\u8A02\u55AE\u72C0\u614B\uFF1A\u5B8C\u6210")):C("",!0),e.isStatus==2?(n(),d("span",H,"\u8A02\u55AE\u72C0\u614B\uFF1A\u53D6\u6D88")):C("",!0)]),I,u("div",null,[u("table",null,[J,u("tbody",null,[(n(!0),d(D,null,h(e.list,t=>(n(),d("tr",{key:t.index},[u("td",null,a(t[1]),1),u("td",null,a(t[2]),1),u("td",null,a(t[3]),1),u("td",null,a(t[2]*t[3]),1)]))),128))])]),u("div",K,"\u8A02\u8CFC\u7E3D\u984D\uFF1A"+a(e.countTotal)+" \u5143 ",1),e.isStatus==0?(n(),d("div",P,[u("a",{class:"btn_cancel",onClick:t=>V(p,e)},"\u53D6\u6D88",8,Q),u("a",{class:"btn_success ml-2",onClick:t=>y(p,e)},"\u5B8C\u6210",8,W)])):C("",!0)])]),_:2},1032,["title","class","name"])]),_:2},1032,["modelValue"]))),128))]),i(b,{class:"addmodal",modelValue:_.value,"onUpdate:modelValue":s[3]||(s[3]=e=>_.value=e),title:"\u5B8C\u6210\u8A02\u55AE\u901A\u77E5",center:""},{footer:o(()=>[u("span",eu,[i(v,{onClick:s[1]||(s[1]=e=>_.value=!1)},{default:o(()=>[c("\u95DC\u9589\u8996\u7A97")]),_:1}),i(v,{type:"primary",onClick:s[2]||(s[2]=e=>_.value=!1)},{default:o(()=>[c(" \u8A02\u55AE\u5B8C\u6210 ")]),_:1})])]),default:o(()=>[u("div",X,[Y,Z,u("div",x,[u("b",null,a(l.NumberDate),1)]),uu])]),_:1},8,["modelValue"]),i(b,{class:"addmodal",modelValue:A.value,"onUpdate:modelValue":s[6]||(s[6]=e=>A.value=e),title:"\u53D6\u6D88\u8A02\u55AE\u901A\u77E5",center:""},{footer:o(()=>[u("span",nu,[i(v,{onClick:s[4]||(s[4]=e=>A.value=!1)},{default:o(()=>[c("\u95DC\u9589\u8996\u7A97")]),_:1}),i(v,{type:"primary",onClick:s[5]||(s[5]=e=>A.value=!1)},{default:o(()=>[c(" \u8A02\u55AE\u5B8C\u6210 ")]),_:1})])]),default:o(()=>[u("div",su,[lu,tu,u("div",ou,[u("b",null,a(l.NumberDate),1)]),au])]),_:1},8,["modelValue"])])}}});export{cu as default};
