import{h as E,f as y,a as k}from"./firebaseConfig.10f39527.js";import{d as D,r as a,c as T,o as U,b as c,e,F as A,f as F,k as r,p as N,h,g as Y,t as o,j as f}from"./index.f5afa35a.js";const b={class:"tofu-area"},x=e("div",{class:"order_lists"},"\u8A02\u55AE\u5217\u8868\uFF1A",-1),M={class:"demo-collapse"},V=e("div",{class:"order_content"},"\u8A02\u55AE\u5167\u5BB9",-1),w=e("thead",null,[e("tr",null,[e("td",null,"\u540D\u7A31"),e("td",null,"\u55AE\u50F9"),e("td",null,"\u6578\u91CF"),e("td",null,"\u5408\u8A08")])],-1),O={class:"countTotal"},W=D({__name:"Orders",setup(z){a();const i=a([]),m=a("1");a(),E(new Date).format("YYYY-MM-DD-HHmm"),a(0),a({name:"",phone:"",add:""});var C=y.database().ref("orders/");const p=a({}),g=()=>{C.once("value",s=>{p.value=s.val(),console.log("getOrders",p.value)})};a(!1),a({id:"",productName:"",price:"",count:"",total:""}),a(!1),a();const v=a(),B=async()=>{const _="https://sheets.googleapis.com/v4/spreadsheets/19YWnM9PrXXEUOcT9zWkQYpiZ1W3o6i-UToEGsUPcFcU/values/\u5546\u54C1\u5217\u8868?alt=json&key=AIzaSyAieT4Folrx3Tsx-iZqzu_HyNBt349BMaw";await k.get(_).then(d=>{v.value=d.data.values,console.log(d.data);for(var t=0;t<=v.value.length;t++)for(var n=v.value[0],l=0;l<=n.length;l++)n[l]})};return a([]),T(()=>{var s=0;for(var u in i.value)s+=i.value[u][3]*i.value[u][2];return s}),U(()=>{B(),g()}),(s,u)=>{const _=f("el-collapse-item"),d=f("el-collapse");return r(),c("div",b,[x,e("div",M,[(r(!0),c(A,null,F(p.value,(t,n)=>(r(),N(d,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=l=>m.value=l),key:n,accordion:""},{default:h(()=>[Y(_,{title:"\u8A02\u55AE\u865F\u78BC"+t.orderNo,name:n+1},{default:h(()=>[e("div",null,"\u8A02\u8CFC\u4EBA\uFF1A"+o(t.orderUser.name),1),e("div",null,"\u8A02\u8CFC\u4EBA\u96FB\u8A71\uFF1A"+o(t.orderUser.phone),1),e("div",null,"\u8A02\u8CFC\u65E5\u671F\uFF1A"+o(t.time),1),V,e("div",null,[e("table",null,[w,e("tbody",null,[(r(!0),c(A,null,F(t.list,l=>(r(),c("tr",null,[e("td",null,o(l[1]),1),e("td",null,o(l[2]),1),e("td",null,o(l[3]),1),e("td",null,o(l[2]*l[3]),1)]))),256))])]),e("div",O,"\u8A02\u8CFC\u7E3D\u984D\uFF1A"+o(t.countTotal)+" \u5143 ",1)])]),_:2},1032,["title","name"])]),_:2},1032,["modelValue"]))),128))])])}}});export{W as default};
